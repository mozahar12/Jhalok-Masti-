<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Jhalok Masti - Full Experience</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; background: #000; font-family: sans-serif; }
        .app-container { height: 100vh; width: 100vw; position: relative; overflow: hidden; }
        
        /* ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∏‡ßã‡ßü‡¶æ‡¶á‡¶™ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞ */
        .video-wrapper { height: 100%; width: 100%; transition: transform 0.4s ease-out; }
        video { width: 100%; height: 100vh; object-fit: cover; background: #000; }

        /* ‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡¶ø ‡¶¶‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶Æ‡ßã‡¶°‡¶æ‡¶≤ */
        #storyViewer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 100; display: none; align-items: center; justify-content: center;
        }
        #storyViewer img { max-width: 100%; max-height: 100%; border-radius: 10px; }

        /* ‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡¶ø ‡¶¨‡¶æ‡¶∞ ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶® */
        .stories-bar {
            position: absolute; top: 40px; left: 0; width: 100%;
            display: flex; padding: 10px; overflow-x: auto; z-index: 30; gap: 12px;
            background: linear-gradient(to bottom, rgba(0,0,0,0.6), transparent);
        }
        .add-story { min-width: 65px; height: 65px; border-radius: 50%; background: #222; display: flex; align-items: center; justify-content: center; border: 2px dashed #555; cursor: pointer; }
        .story-circle { min-width: 65px; height: 65px; border-radius: 50%; border: 3px solid #f09433; padding: 2px; cursor: pointer; }
        .story-circle img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; }

        .side-bar { position: absolute; right: 12px; bottom: 120px; display: flex; flex-direction: column; gap: 20px; z-index: 20; }
        .side-icon { color: white; text-align: center; font-size: 28px; text-shadow: 0 2px 10px rgba(0,0,0,0.5); }
        .side-icon span { font-size: 12px; display: block; margin-top: 4px; }
    </style>
</head>
<body>

<div class="app-container" id="swipeArea">
    <div class="video-wrapper" id="videoWrapper">
        <video id="mainVideo" playsinline loop src="VID_20251206_041026_071.mp4"></video>
    </div>

    <div id="storyViewer" onclick="closeStory()">
        <img id="viewingImg" src="">
    </div>

    <div class="stories-bar" onclick="event.stopPropagation()">
        <label for="storyInput" class="add-story">
            <i class="fas fa-plus text-white"></i>
        </label>
        <input type="file" id="storyInput" accept="image/*" class="hidden" onchange="uploadStory(this)">
        <div id="storyList" class="flex gap-3">
            <div class="story-circle" onclick="viewStory('https://i.pravatar.cc/150?img=11')"><img src="https://i.pravatar.cc/150?img=11"></div>
            <div class="story-circle" onclick="viewStory('https://i.pravatar.cc/150?img=12')"><img src="https://i.pravatar.cc/150?img=12"></div>
        </div>
    </div>

    <div class="side-bar">
        <div class="side-icon"><i class="fas fa-heart"></i><span>45K</span></div>
        <div class="side-icon"><i class="fas fa-comment-dots"></i><span>1.2K</span></div>
        <div class="side-icon"><i class="fas fa-share"></i><span>Share</span></div>
    </div>

    <div class="absolute bottom-20 left-4 text-white z-10 pointer-events-none">
        <h3 class="font-bold text-lg">@Mozahar_Creator</h3>
        <p class="text-sm opacity-90">‡¶∏‡ßã‡ßü‡¶æ‡¶á‡¶™ ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®! üé¨</p>
    </div>
</div>

<script>
    const videoList = ["VID_20251206_041026_071.mp4", "videos 22.mp4"];
    let currentIdx = 0;
    const videoElement = document.getElementById('mainVideo');
    let startY = 0;

    // ‡ßß. ‡¶∏‡ßã‡ßü‡¶æ‡¶á‡¶™ ‡¶Ü‡¶™ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ (Swipe Up to change video)
    document.getElementById('swipeArea').addEventListener('touchstart', e => startY = e.touches[0].clientY);
    document.getElementById('swipeArea').addEventListener('touchend', e => {
        let endY = e.changedTouches[0].clientY;
        if (startY - endY > 50) changeVideo(1); // ‡¶∏‡ßã‡ßü‡¶æ‡¶á‡¶™ ‡¶Ü‡¶™
        else if (endY - startY > 50) changeVideo(-1); // ‡¶∏‡ßã‡ßü‡¶æ‡¶á‡¶™ ‡¶°‡¶æ‡¶â‡¶®
    });

    function changeVideo(direction) {
        currentIdx = (currentIdx + direction + videoList.length) % videoList.length;
        videoElement.src = videoList[currentIdx];
        videoElement.muted = false; // ‡¶∏‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶Ö‡¶ü‡ßã ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶π‡¶¨‡ßá
        videoElement.play();
    }

    // ‡ß®. ‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡¶ø ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶ì ‡¶Ü‡¶™‡¶≤‡ßã‡¶°
    function uploadStory(input) {
        if (input.files && input.files[0]) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const newStory = document.createElement('div');
                newStory.className = 'story-circle';
                newStory.onclick = () => viewStory(e.target.result);
                newStory.innerHTML = `<img src="${e.target.result}">`;
                document.getElementById('storyList').prepend(newStory);
            };
            reader.readAsDataURL(input.files[0]);
        }
    }

    function viewStory(src) {
        document.getElementById('viewingImg').src = src;
        document.getElementById('storyViewer').style.display = 'flex';
    }

    function closeStory() {
        document.getElementById('storyViewer').style.display = 'none';
    }

    // ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡¶¨‡¶æ‡¶∞ ‡¶ü‡¶æ‡¶ö ‡¶ï‡¶∞‡¶≤‡ßá‡¶á ‡¶Æ‡¶ø‡¶â‡¶ú‡¶ø‡¶ï ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶π‡¶¨‡ßá
    document.body.addEventListener('click', () => {
        if (videoElement.paused) {
            videoElement.play();
            videoElement.muted = false;
        }
    }, {once: true});
</script>
</body>
</html>
